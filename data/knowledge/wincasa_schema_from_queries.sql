-- WINCASA Database Schema (extracted from SQL queries)
-- This represents the ACTUAL tables and fields used in production

-- Mieterstammdaten - Zentrale Tabelle für alle Mieterinformationen
CREATE TABLE BEWOHNER (
    001 VARCHAR(50),
    BANREDE VARCHAR(50),
    BBANK VARCHAR(50),
    BBIC VARCHAR(11),
    BBLZ VARCHAR(11),
    BBRIEFAN VARCHAR(50),
    BEMAIL VARCHAR(100),
    BEWNR INTEGER NOT NULL,
    BHANDY VARCHAR(50),
    BIBAN VARCHAR(34),
    BKONTO VARCHAR(50),
    BKONTOINH VARCHAR(50),
    BNAME VARCHAR(100),
    BNAME2 VARCHAR(50),
    BPLZORT VARCHAR(100),
    BSTR VARCHAR(100),
    BTEL VARCHAR(50),
    BTEL2 VARCHAR(50),
    BVNAME VARCHAR(100),
    BVNAME2 VARCHAR(50),
    ENR INTEGER NOT NULL,
    KAUT_VEREINBART VARCHAR(50),
    KNR INTEGER NOT NULL,
    MIETE1 VARCHAR(50),
    ONR INTEGER NOT NULL,
    VBEGINN DATE,
    VENDE DATE,
    Z1 NUMERIC(15,2),
    Z3 NUMERIC(15,2)
);

-- Mieter-Adressdaten - Zusätzliche Adressinformationen für Mieter
CREATE TABLE BEWADR (
    BEWNR INTEGER NOT NULL,
    BNAME VARCHAR(100),
    BVNAME VARCHAR(100)
);

-- Eigentümerstammdaten - Zentrale Tabelle für alle Eigentümerinformationen
CREATE TABLE EIGADR (
    EEMAIL VARCHAR(50),
    EFIRMA VARCHAR(50),
    EFIRMANAME VARCHAR(50),
    EIGNR INTEGER,
    ENAME VARCHAR(50),
    ENOTIZ VARCHAR(50),
    ETEL1 VARCHAR(50),
    ETEL2 VARCHAR(50),
    EVNAME VARCHAR(50)
);

-- Objektstammdaten - Gebäude und Immobilien
CREATE TABLE OBJEKTE (
    ARCHIVIERT VARCHAR(50),
    EIGNR INTEGER,
    GA1 VARCHAR(50),
    GA2 VARCHAR(50),
    OANZEINH VARCHAR(50),
    OBEZ VARCHAR(200),
    ONR INTEGER NOT NULL,
    OPLZORT VARCHAR(50),
    OSTRASSE VARCHAR(50),
    VERWALTUNGSBEGINN DATE,
    VERWALTUNGSENDE DATE,
    VERWNR INTEGER
);

-- Wohnungsstammdaten - Einzelne Wohneinheiten
CREATE TABLE WOHNUNG (
    ART VARCHAR(50),
    BKNR INTEGER,
    EBEZ VARCHAR(200),
    EKNR INTEGER,
    ENR INTEGER NOT NULL,
    ONR INTEGER NOT NULL,
    WFL VARCHAR(50),
    WNOTIZ VARCHAR(50),
    ZIMMERZAHL VARCHAR(50)
);

-- Kontostammdaten - Buchführungskonten für Mieter/Eigentümer
CREATE TABLE KONTEN (
    DATEVKNR INTEGER,
    EA VARCHAR(50),
    EIGNR INTEGER,
    ENR INTEGER NOT NULL,
    INAKTIV VARCHAR(50),
    KABRECHNEN VARCHAR(50),
    KBEZ VARCHAR(200),
    KBRUTTO VARCHAR(50),
    KKLASSE VARCHAR(50),
    KMAHNSTUFE VARCHAR(50),
    KNR INTEGER NOT NULL,
    KNRSTR VARCHAR(50),
    KUSCHLNR1 VARCHAR(50),
    KUSCHLPROZ1 VARCHAR(50),
    KUST VARCHAR(50),
    MAHNDATUM DATE,
    NEUTRAL VARCHAR(50),
    ONR INTEGER NOT NULL,
    OPBETRAG NUMERIC(15,2),
    SEV VARCHAR(50)
);

-- Buchungsdaten - Alle finanziellen Transaktionen
CREATE TABLE BUCHUNG (
    BELEGNR INTEGER,
    BETRAG NUMERIC(15,2),
    BNR INTEGER NOT NULL,
    DATUM DATE,
    KHABEN VARCHAR(50),
    KSOLL VARCHAR(50),
    MITARBEITER_ID VARCHAR(50),
    MWST VARCHAR(50),
    ONRHABEN VARCHAR(50),
    ONRSOLL VARCHAR(50),
    TEXT VARCHAR(200),
    WDATUM DATE
);

-- Eigentümerversammlungen
CREATE TABLE VERSAMMLUNG (
    ONR INTEGER NOT NULL,
    VERBEZ VARCHAR(200),
    VERDAT VARCHAR(50),
    VERNR INTEGER,
    VLNAME VARCHAR(50)
);

-- Rücklagenpositionen
CREATE TABLE RUECKPOS (
    ANFSTAND VARCHAR(50),
    DTBIS VARCHAR(50),
    DTVON VARCHAR(50),
    ENDSTAND VARCHAR(50),
    ENTN VARCHAR(50),
    KENTN VARCHAR(50),
    KNRP VARCHAR(50),
    KSONDERENTN VARCHAR(50),
    KSONDERZUF VARCHAR(50),
    KZUF VARCHAR(50),
    NAME VARCHAR(50),
    NR INTEGER,
    ONR INTEGER NOT NULL,
    POS1 VARCHAR(50),
    POS10 VARCHAR(50),
    POS10CHECK VARCHAR(50),
    POS10NAME VARCHAR(50),
    POS1CHECK VARCHAR(50),
    POS1NAME VARCHAR(50),
    POS2 VARCHAR(50),
    POS2CHECK VARCHAR(50),
    POS2NAME VARCHAR(50),
    POS3 VARCHAR(50),
    POS3CHECK VARCHAR(50),
    POS3NAME VARCHAR(50),
    POS4 VARCHAR(50),
    POS4CHECK VARCHAR(50),
    POS4NAME VARCHAR(50),
    POS5 VARCHAR(50),
    POS5CHECK VARCHAR(50),
    POS5NAME VARCHAR(50),
    POS6 VARCHAR(50),
    POS6CHECK VARCHAR(50),
    POS6NAME VARCHAR(50),
    POS7 VARCHAR(50),
    POS7CHECK VARCHAR(50),
    POS7NAME VARCHAR(50),
    POS8 VARCHAR(50),
    POS8CHECK VARCHAR(50),
    POS8NAME VARCHAR(50),
    POS9 VARCHAR(50),
    POS9CHECK VARCHAR(50),
    POS9NAME VARCHAR(50),
    SONDERENTN VARCHAR(50),
    SONDERZUF VARCHAR(50),
    USCHL VARCHAR(50),
    ZUF VARCHAR(50)
);

